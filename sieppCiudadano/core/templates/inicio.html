
{% extends "base.html" %}
{% load static %}
<link href="http://allfont.net/allfont.css?fonts=montserrat" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css?family=Raleway:200,100,400" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="{%static 'css/colores.css'%}">
<link rel="stylesheet" href="{%static 'css/inicio.css'%}">
<link rel="stylesheet" href="{%static 'css/base.css'%}">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<!-- Custom styles for this template-->
<link href="{%static 'css/sb-admin.css'%}" rel="stylesheet">
<link href="{%static 'css/galeria.css'%}" rel="stylesheet">

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link href="http://allfont.net/allfont.css?fonts=montserrat" rel="stylesheet" type="text/css" />

{% block extracss %}
<style type="text/css"> div{  font-family: 'Montserrat', arial; } </style>
<style>
    body{
        background-color: #ffffff !important;
       /* background: url("https://img.freepik.com/vector-gratis/coronavirus-futurista-plantilla-banner-web-covid-19-celulas-brillantes-virus-poligonales-bajos_67515-901.jpg?size=626&ext=jpg") no-repeat center center fixed !important;*/
        -webkit-background-size: cover !important;
        -moz-background-size: cover !important;
        -o-background-size: cover !important;
        background-size: cover !important;
        
    }

@media (max-width: 992px) { 
    .cont{
        margin-top: 30% !important;
    }
    .texto-encima{
        font-size: 130% !important;
    }
    .cont_img{

        overflow-y: scroll !important;
        margin-bottom: 15px;
    }

   

}

@media (max-width: 600px) { 
   

    .texto-encima{
        font-size: 80% !important;
    }

}

.addmap:hover{
border: #663333 2px solid !important;
color: black !important;
background-color: white !important;
cursor:pointer; cursor: hand;	

}

.linkbtn:hover{
    border: #d3ab3e 2px solid !important;
    color: black !important;
    background-color: white !important;
    cursor:pointer; cursor: hand;	
}

.addmap{
    color: white !important;
}

</style>
{% endblock %}

{% block content %}
<!--Periodo de Gobierno-->
<body class="justify-content-center text-center">
    <div class="container-fluid cont" style="width: 95%; margin-top: 7%; background-color:rgba(255, 0, 0, 0) !important; ">
 
<!-- Aqui Va el Video-->
<!--Foto Principal-->
<!-- Aqui Va el Video-->
{% if eje.video %}
    {% if request.path == '/eje/1' %}  <iframe width="100%" height="100%" src="https://www.youtube.com/embed/hv7R2d4uChE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    {% elif  request.path == '/eje/2' %}  <iframe width="100%" height="100%" src="https://www.youtube.com/embed/_DqtUClXCkY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    {% elif  request.path == '/eje/3' %}  <iframe width="100%" height="100%" src="https://www.youtube.com/embed/INtGcBWOllg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    {% elif  request.path == '/eje/4' %}  <iframe width="100%" height="100%" src="https://www.youtube.com/embed/hv7R2d4uChE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    {% elif  request.path == '/eje/5' %}  <iframe width="100%" height="100%" src="https://www.youtube.com/embed/hv7R2d4uChE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    {% elif  request.path == '/eje/6' %}  <iframe width="100%" height="100%" src="https://www.youtube.com/embed/ttECw_ctofA" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    {% else %}
    <video class="foo-2" autoplay controls  style="width: 100%; height:auto" src="{% static 'images/promo_informe.mov' %}"></video>
    {% endif %}
{% else %}
<video class="foo-2" autoplay controls  style="width: 100%; height:auto" src="{% static 'images/promo_informe.mov' %}"></video>
{% endif %}





<!--DescripciÃ³n del eje-->
<div class="card foo-1 mt-3" style="width:100% ">
    <img class="card-img-top" src="{{ eje.imagen.url }}" alt="Card image">
    <div class="col card-img-overlay" style="margin-top: 20%;">
    </div>
</div>

<!--campo para vista del apartado del informe-->
<div class="container-fluid text-center" style="width:100%; height: 10%; " >
        <div class="row justify-content-center mt-5">
            <div class="col mt-3 " >
                <div>
                    <a  href="/media/{{eje.documento}}" target="_blank" class="btn2 btn--doar" 
                    {% if request.path == '/eje/1' %}  style="background-color: #9C4770; color: white; text-decoration: none !important; font-size: 130%; " 
                    {% elif  request.path == '/eje/2' %}  style="background-color: #9F8062;  color: white; text-decoration: none !important; font-size: 130%;" 
                    {% elif  request.path == '/eje/3' %}  style="background-color: #A2A286;  color: white; text-decoration: none !important; font-size: 130%;" 
                    {% elif  request.path == '/eje/4' %}  style="background-color: #81524E;  color: white; text-decoration: none !important; font-size: 130%;"  
                    {% elif  request.path == '/eje/5' %}  style="background-color: #5E2551; color: white; text-decoration: none !important; font-size: 130%;" 
                    {% elif  request.path == '/eje/6' %}  style="background-color:#748280; color: white; text-decoration: none !important; font-size: 130%;" 
                    {% else %}
                    style="background-color: #405B50; color: white; text-decoration: none !important; font-size: 130%;"    
                    {%endif%}>Descargar</a>
                </div>
            </div>
            
        </div>
</div>
{% if not informe %}
<div class="container-fluid text-center nombreEje" style="width:100%; height: auto; " >
    <div class="row justify-content-center mt-5">
        <div class="col mt-3 " style="background-color: {{eje.decoracion}};  height: auto; color:white; border-radius: 8px;">
            <div>
                <h3>{{eje.nombre}}</h3>
            </div>
        </div>
        
    </div>
</div>
{% else %}
<div class="row justify-content-center mt-5"></div>
<div class="col mt-3 " style="  height: auto; border-radius: 8px;">
    <h2>Contenido</h2>
</div>
</div>
{% endif %}

<!--Carrucel de Eje-->
{% if descripcion %}
<div class="row mb-5">
    <div class="col-sm-12 mt-3">
      <div class="card">
        <div class="card-body text-justify">
          <p class="card-text text-justify">{{eje.descripcion|linebreaks}}</p>
        </div>
      </div>
    </div>
</div>
<!-- '''Texto sobre imagen'''
<div class="cont_img mb-2" style="background-color: #ffffff;">
    <img class="d-block w-100" src="{% static 'images/texto.png' %}" />
    <div class="texto-encima" style="color: black; font-size: 100%;">
        {{eje.descripcion}}
    </div>
    
</div>-->
{% endif %}
{% if temas %}
<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
        
        {% for tema in temas %}
            {% if forloop.counter == 1 %}
            <li data-target="#carouselExampleIndicators" data-slide-to="{{tema.pk}}" class="active"></li>
            {% else %}
            <li data-target="#carouselExampleIndicators" data-slide-to="{{tema.pk}}" class=""></li>
            {% endif %}
            
        {% endfor %}
    
    </ol>
    
    <div class="carousel-inner">
    {% for tema in temas %}
        {% if forloop.counter == 1 %}
        <div class="carousel-item active">
            <img src="{{ tema.imagen.url }}" class="d-block w-100" alt="...">
        </div>
        {% else %}
            <div class="carousel-item">
                <img src="{{ tema.imagen.url }}" class="d-block w-100" alt="...">
            </div>
        {% endif %}
        
    {% endfor %}
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
{% endif %}
<!--
{% for tema in temas %}

<div class="card mt-3" style="width:100% ">
    <img class="card-img-top " src="{{ tema.imagen.url }}" alt="Card image">
    <div class="col card-img-overlay" >
    </div>
</div>
{% endfor %}
-->

<!--Galeria de Fotos-->
<div id="galeria" class="container-fluid mt-5">
 
<div class="row justify-content-center mb-2">
<!------------------------------------------------------>
{% for foto in galeria %}
<div class="col-4 mb-2">
    <a href="#{{foto.id}}" class="img-toggle mb-2">
        <img src="{{foto.imagen.url}}" class="thumbnail">
    </a>
</div>

<div  class="lightbox" id="{{foto.id}}">
<a href="#_" class="cerrar" >
    <img src="{{foto.imagen.url}}">
</a>
<div class="row">
   
    <div class="col">
        <div class="col mt-2">
        <button class="button_close" style="text-decoration: none; color:white" href="#_">
            <span><i class="far fa-image"></i>&nbsp; </span>
        </button>
        </div>
    </div>
    <div class="col">
        <div class="col mt-2">
            <button class="button_shared"><span><i class="fab fa-facebook-square"></i>&nbsp; </span></button>
        </div>
        <!--
        <a class="btn btn-primary btn3 cerrar" href="https://www.facebook.com/sharer/sharer.php?u=https%3A//www.ahome.gob.mx/recorre-billy-chapman-casa-de-la-cultura-conrado-espinosa-y-deja-un-mensaje-escrito-en-la-galeria-del-cafe-literario-2/" target="_blank">
            Compartir <span><i class="fab fa-facebook-square"></i></span>
        </a>
        -->
    </div>
</div>
</div >
{% endfor %}


</div>

</div>

<!--Mapas Visores-->  
{% if visores %}

<div class=" mt-3 mb-3">
    <div class="container-fluid justify-content-center mb-3" style="background-color: {{eje.decoracion}};  height: 50px; color:white; font-size: 35px;  border-radius: 8px;"> Visores </div>
    <div class="row">
        <div id="mapButon" class="col-md-4">                    
            
        </div>
        <div class="col-md-8">
            <div class="mapaTitle container-fluid justify-content-center" 
            {% if request.path == '/eje/1' %}  style="color: #9C4770; height: 25px; font-size: 15px; border-radius: 8px;" 
            {% elif  request.path == '/eje/2' %}  style="color: #9F8062;  height: 25px;  font-size: 15px; border-radius: 8px;" 
            {% elif  request.path == '/eje/3' %}  style="color: #A2A286;  height: 25px; font-size: 15px; border-radius: 8px;" 
            {% elif  request.path == '/eje/4' %}  style="color: #81524E; height: 25px;  font-size: 15px; border-radius: 8px;"  
            {% elif  request.path == '/eje/5' %}  style="color: #5E2551; height: 25px;  font-size: 15px; border-radius: 8px;" 
            {% elif  request.path == '/eje/6' %}  style="color:#748280; height: 25px;  font-size: 15px; border-radius: 8px;" 
            {% else %}
            style="background-color: #405B50; height: 25px; color:white; font-size: 15px; border-radius: 8px;"    
            {%endif%}></div> <br>
            <div id="map"></div>    
        </div>
    </div>
</div>
{% endif %}
{% if eje.numero == "2" %}
<div class="container-fluid text-center" style="width:100%; height: 20%;">
<div class="row justify-content-center mt-5">
    <div class="col mt-5" > <!--foo-3   es una clase para animacion del componentes-->
        <div>
            <a href="https://transformando.ahome.gob.mx/cv/c19/" target="_blank" class="btn_ms btn--covid" style="background-color: #9F8062 !important;color: white; text-decoration: none !important; font-size: 130%;">Micrositio COVID-19</a>
            
        </div>
    </div>
    
</div>
</div>
{% endif %}
{% if informe %}
<div class="row mb-5">
    {% for itemEje in ejes %}
    
    <div class="col-sm-12 mt-3">
      <div class="card">
        <h5 class="card-header text-center" style="background-color: {{itemEje.decoracion}}; border:none; color: white;">{{itemEje.nombre}}</h5>
        <div class="card-body text-justify">
          <p class="card-text text-justify" style="text-align: justify !important;">{{itemEje.descripcion|linebreaks}}</p>
          <a href="{% url 'Eje' idEje=itemEje.numero %}" class="btn btn-primary linkbtn float-left" style="background-color: {{itemEje.decoracion}}; border:none; ">Ir a eje <i class="fas fa-external-link-alt"></i></a>
        </div>
      </div>
    </div>
    {% endfor %}
</div>
{% endif %}
<div class="container-fluid text-center mt-5">
    <a class="" href="https://www.ahome.gob.mx/"><img src="{% static 'images/escudo.png' %}" width="175px" height="auto" alt=""></a> 
</div>

</div> 
</div>
</body>
{% endblock %}

{% block extrascripts %}
<script src="https://unpkg.com/scrollreveal/dist/scrollreveal.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenMax.min.js"></script>
<script>
    
    $(document).ready(()=>{
        window.sr = ScrollReveal({ reset: true });
        mapas = '{{visores|escapejs}}'
        mapas = JSON.parse(mapas);
        $(".mapaTitle").hide();
        crearMapa = true;
        if (mapas.length > 0){
        for (map of mapas){
            paint = ""
            console.log(map.eje)
            if(map.eje == 1){
                paint = "#9C4770"
            }else if(map.eje == 2){
                paint = "#9F8062"
            }else if(map.eje == 3){
                paint = "#A2A286"
            }else if(map.eje == 4){
                paint = "#81524E"
            }else if(map.eje == 5){
                paint = "#5E2551"
            }else if(map.eje == 6){
                paint = "#748280"
            }else{
                paint = "#748280"
            }

            $("#mapButon").append("<a id='"+map.mapa+"' class='btn boton mb-1 addmap' style='text-align: left !important; width: 100%; background-color:"+paint+"; color: white;'>"+map.icono+" "+ map.titulo+"</a>");
            if (crearMapa == true){
                h = 480
                if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile/i.test(navigator.userAgent) ) {
                    h =220
                }
                $(".mapaTitle").show();
                $(".mapaTitle").text(map.titulo) 
                $("#map").append("<iframe class='mymap' src='https://www.google.com/maps/d/embed?mid="+map.mapa+"'"+" width='100%' height='"+h+"'></iframe>");
                crearMapa = false
            }
        }
        }
        $(".addmap").click(function(){
            $(".mapaTitle").show();
            key = $(this).attr("id")
            $(".mapaTitle").text($(this).text()) 
            h = 480
            if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile/i.test(navigator.userAgent) ) {
                h =220
            }
            
            $(".mymap").remove();
            
            $(".map").remove();
            $("#map").append("<iframe class='mymap' src='https://www.google.com/maps/d/embed?mid="+$(this).attr("id")+"'"+" width='100%' height='"+h+"'></iframe>");
	    });
        $(".removemap").click(function(){
            console.log("click")
            
	    });
        
        $(".button_shared").on( "click", function() {
            var Url = $(location).attr('href');
            window.open("https://www.facebook.com/sharer/sharer.php?u="+Url, '_blank');
        
         });

        $('[data-toggle="tooltip"]').tooltip(); 
        $(".img-toggle").on( "click", function() {
            //muestro mediante id
            
                $('nav').hide();
                
			 //muestro mediante clase
         });
         $(".cerrar").on( "click", function() {
			//muestro mediante id
            $('nav').show(); //muestro mediante clase
            
         });

         $(".button_close").on( "click", function() {
            var Url = $(location).attr('href');
            var cont = String(Url.length)
            cont = cont - 1
            var res = Url.substring(0,cont);
			
            $(location).prop('href', "#_")
            
            $('nav').removeAttr('style');
			
         });
        


// Custom Settings
    sr.reveal('.foo-1', { duration: 2000 });

    sr.reveal('.foo-2', { 
    origin: 'right', 
    duration: 2000 
    });

    sr.reveal('.foo-3', { 
    rotate: { x: 100, y: 100, z: 0 },
    duration: 1000
    });



    });

    
</script>

{% endblock %}